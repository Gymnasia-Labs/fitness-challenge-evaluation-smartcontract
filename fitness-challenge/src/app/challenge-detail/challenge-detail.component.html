<mat-card class="card">
    <!-- <mat-card-title>{{challenge.title}}</mat-card-title> -->
    <mat-card-title class="centerTxt"> Challenge #{{challenge?.id}}</mat-card-title>
    <mat-card-subtitle>

    </mat-card-subtitle>
    <mat-card-content class="cardContent">
        <br>
        <div>Starts: {{challenge?.start | date: 'short'}}</div>
        <mat-progress-bar mode="determinate" [value]="progressBarValue"></mat-progress-bar>
        <div class="challengeEnd">Ends: {{challenge?.end | date: 'short'}}</div>



        <div class="title">Created by</div>
        <div>{{challenge?.creator?.slice(0,20)}}...</div>

        <br>
        <div>
            //image placeholder
        </div>
        <br>

        <div>
            {{challenge?.description}}
        </div>

        <div class="rulesWrapper">
            <div class="title">The Workout:</div>


            <div class="rules">

                <div *ngFor="let type of challenge?.ruleset?.types; let i = index">
                    <div>
                        <span>Â°</span> {{type}}
                    </div>
                    <div>
                        <span style="margin-left: 10px;">*</span>

                        {{
                        challenge?.ruleset?.condition
                        }}
                        <!-- todo: check for array -->
                        meters
                    </div>
                </div>

                <br>
                <div>
                    Entry fee: <button mat-flat-button style="cursor: unset;"
                        color="primary">{{formatEther(challenge?.fee)}} ETH</button>
                </div>
                <br>
                <div style="font-weight: bold; font-size: medium;">
                    {{ (challenge?.maxParticipantsCount || 0) - (challenge?.currentParticipantsCount || 0)
                    }}/{{
                    (challenge?.maxParticipantsCount || 0)}} tickets remaining </div>
                <br>



                <!-- <div class="rulesGrid">
                    <div>1.</div>
                    <div>use a concept2 pm5 rower</div>
                </div>
                <div class="rulesGrid">
                    <div>2.</div>
                    <div>be logged in to their logbook
                        <a *ngIf="!(concept2Name$ | async)" (click)="saveChallengeId()" class="loginbutton"
                            [href]="getLoginURL('concept2')">{{ '{' }}sign in{{ '}' }}</a>
                        <b *ngIf="(concept2Name$ | async)" style="color:green">{{ '{' }}signed in{{ '}' }}</b>
                    </div>
                </div>
                <div class="rulesGrid">
                    <div>3.</div>
                    <div>pay {{formatEther(challenge?.fee)}} ETH to submit challenge attempts to the leaderboard</div>
                </div> -->


            </div>

            <!-- <br>
            <div>
                <p *ngIf="isLive()">challenge is live</p>
                <p *ngIf="!isLive()">challenge begins ({{challenge?.start | date : 'short'}}) ends ({{challenge?.end |
                    date : 'short'}})</p>
            </div> -->
        </div>
        <!-- <div class="title">
            Participation
        </div>
        <div>
            The athlete who submits a winning result before ({{challenge?.end |date : 'short'}}) will win
            {{formatEther(challenge?.price)}} paid in Ether.
        </div>
        <br>
        <div style="font-weight: bold;"> {{ (challenge?.maxParticipantsCount || 0) -
            (challenge?.currentParticipantsCount || 0) }} spot(s) left </div>
        <br>

        <div class="title">
            Reward
        </div>
        <div>
            The athlete who submits a winning result before {{challenge?.end | date: 'short'}} will win
            {{formatEther(challenge?.price)}} paid in Ether.
        </div>
        <div class="title">
            Fees
        </div>
        <div>
            50% of submission fees will be paid to the winning athlete.
            The submission fee is {{formatEther(challenge?.fee)}} Ether
        </div> -->
    </mat-card-content>

</mat-card>


<!-- <div style="width: 100%;display: flex;">
    <a style="margin-right: 0;margin-left: auto;" mat-button [routerLink]="['/challenge/', challenge?.id]"
        *ngIf="joinActive">Join
        challenge</a>
</div> -->